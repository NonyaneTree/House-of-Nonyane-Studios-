<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Payroll</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f4f4f4;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        flex-direction: column;
    }
    h1 {
        color: #333;
        margin-bottom: 20px;
    }
    .buttons {
        display: flex;
        gap: 20px;
        margin-top: 20px;
    }
    .buttons button {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 10px;
        border: none;
        border-radius: 10px;
        background-color: #4CAF50;
        color: white;
        font-size: 16px;
        cursor: pointer;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .buttons button img {
        width: 60px;
        height: 60px;
        margin-bottom: 5px;
        transition: transform 0.3s ease;
    }
    /* Animation: hover effect */
    .buttons button:hover {
        transform: scale(1.1);
        box-shadow: 0 8px 20px rgba(0,0,0,0.3);
    }
    .buttons button:hover img {
        transform: rotate(15deg) scale(1.2);
    }
</style>
<script>
// --- Helper function to get cookies ---
function getCookie(name) {
    const cookies = document.cookie.split(';');
    for (let cookie of cookies) {
        let [cname, cvalue] = cookie.trim().split('=');
        if (cname === name) return cvalue;
    }
    return null;
}

// --- Helper function to set cookies ---
function setCookie(name, value, days) {
    let expires = "";
    if (days) {
        const date = new Date();
        date.setTime(date.getTime() + (days*24*60*60*1000));
        expires = "; expires=" + date.toUTCString();
    }
    document.cookie = name + "=" + value + expires + "; path=/";
}

// --- Enforce trial / daily limit ---
window.onload = function() {
    const paid = getCookie("paid");
    const trialStart = getCookie("trialStart"); 
    const lastUse = getCookie("lastUse");       

    const now = new Date().getTime();
    const today = new Date().toDateString(); // for daily tracking

    if (paid === "true") return; // unlimited access for paid users

    if (lastUse === today) {
        alert("You have already used your free trial today. Pay 100 ZAR for unlimited access.");
        window.location.href = "pay.html";
        return;
    }

    if (!trialStart) {
        setCookie("trialStart", now, 1/144); // 10 minutes
        setCookie("lastUse", today, 1);
        return;
    }

    if (now - parseInt(trialStart) > 600000) { // 10 min
        alert("Your free trial is over. Pay 100 ZAR for unlimited access.");
        window.location.href = "pay.html";
        return;
    }

    setCookie("lastUse", today, 1); // mark today's use
};
</script>
</head>
<body>
<h1>Payroll Page</h1>
<p>Welcome! You have limited access unless you paid.</p>

<div class="buttons">
    <button onclick="window.location.href='pay.html'">
        <img src="pay1.png" alt="Pay Icon">
        Pay Now
    </button>
    <button onclick="window.location.href='payroll.html'">
        <img src="payroll.png" alt="Payroll Icon">
        Payroll Access
    </button>
    <button onclick="window.location.href='payslip.html'">
        <img src="payslip.png" alt="Payslip Icon">
        design payslip 
    </button>
    <button onclick="window.location.href='aboutus.html'">
        <img src="about.png" alt="Payslip Icon">
        who are we
    </button>
    <button onclick="window.location.href='bot.html'">
        <img src="bot.png" alt="bot Icon">
        Chat to our bot
    </button>
    <button onclick="window.location.href='contactus.html'">
        <img src="Contact.png" alt="Contact">
        Contact Us 
    </button>
</div>
</body>
</html>
